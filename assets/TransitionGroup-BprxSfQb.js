import{R as f,r as c,a as g,_ as b}from"./index-4hqEQhWx.js";function h(e,n){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},h(e,n)}function x(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,h(e,n)}const m=f.createContext(null);function O(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,n){var o=function(r){return n&&c.isValidElement(r)?n(r):r},a=Object.create(null);return e&&c.Children.map(e,function(t){return t}).forEach(function(t){a[t.key]=o(t)}),a}function _(e,n){e=e||{},n=n||{};function o(p){return p in n?n[p]:e[p]}var a=Object.create(null),t=[];for(var r in e)r in n?t.length&&(a[r]=t,t=[]):t.push(r);var i,l={};for(var u in n){if(a[u])for(i=0;i<a[u].length;i++){var s=a[u][i];l[a[u][i]]=o(s)}l[u]=o(u)}for(i=0;i<t.length;i++)l[t[i]]=o(t[i]);return l}function d(e,n,o){return o[n]!=null?o[n]:e.props[n]}function C(e,n){return v(e.children,function(o){return c.cloneElement(o,{onExited:n.bind(null,o),in:!0,appear:d(o,"appear",e),enter:d(o,"enter",e),exit:d(o,"exit",e)})})}function M(e,n,o){var a=v(e.children),t=_(n,a);return Object.keys(t).forEach(function(r){var i=t[r];if(c.isValidElement(i)){var l=r in n,u=r in a,s=n[r],p=c.isValidElement(s)&&!s.props.in;u&&(!l||p)?t[r]=c.cloneElement(i,{onExited:o.bind(null,i),in:!0,exit:d(i,"exit",e),enter:d(i,"enter",e)}):!u&&l&&!p?t[r]=c.cloneElement(i,{in:!1}):u&&l&&c.isValidElement(s)&&(t[r]=c.cloneElement(i,{onExited:o.bind(null,i),in:s.props.in,exit:d(i,"exit",e),enter:d(i,"enter",e)}))}}),t}var V=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},j={component:"div",childFactory:function(n){return n}},E=function(e){x(n,e);function n(a,t){var r;r=e.call(this,a,t)||this;var i=r.handleExited.bind(O(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}var o=n.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,r){var i=r.children,l=r.handleExited,u=r.firstRender;return{children:u?C(t,l):M(t,i,l),firstRender:!1}},o.handleExited=function(t,r){var i=v(this.props.children);t.key in i||(t.props.onExited&&t.props.onExited(r),this.mounted&&this.setState(function(l){var u=g({},l.children);return delete u[t.key],{children:u}}))},o.render=function(){var t=this.props,r=t.component,i=t.childFactory,l=b(t,["component","childFactory"]),u=this.state.contextValue,s=V(this.state.children).map(i);return delete l.appear,delete l.enter,delete l.exit,r===null?f.createElement(m.Provider,{value:u},s):f.createElement(m.Provider,{value:u},f.createElement(r,l,s))},n}(f.Component);E.propTypes={};E.defaultProps=j;export{E as T,h as _,O as a,x as b,m as c};
